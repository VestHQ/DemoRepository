<!DOCTYPE html>
<html>

<head>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.1.1.min.js"></script>
<script>
function processForm()
{
  var processName = document.getElementById("formName").value;
  var processAge = document.getElementById("formAge").value;
  var processSex = document.getElementById("formSex").value;
  var processIncome = document.getElementById("formIncome").value;

  //document.getElementById("displayName").innerHTML = "Name: " + processName;
  //document.getElementById("displayAge").innerHTML = "Age: " + processAge;
  //document.getElementById("displaySex").innerHTML = "Sex: " + processSex;
  //document.getElementById("displayIncome").innerHTML = "Income: " + processIncome;

  //var myObj = { "Name":"John", "Age":31, "Sex":"Male", "Income":100000 };
  //var myJSON = JSON.stringify(myObj);
  var dataAccess = "http://demoappgianni.azurewebsites.net/"

  //$.post(dataAccess, myJSON, callback(), "JSON");

  var person =
  {
    "id": processName,
    "Name": processName,
    "Age": processAge,
    "Sex": processSex,
    "Income": processIncome
  }

  $.ajax(
    {
      url: 'http://demoappgianni.azurewebsites.net/tables/DemoTable',
      type: 'post',
      dataType: 'json',
      success: callback(),
      data: JSON.stringify(person),
      statusCode: {
        200: function() { alert("ok");},
        404: function() { alert("page not found");}
      }
    });

}
function callback() {
  document.getElementById("displayName").innerHTML = "Success"
}
</script>
</head>

<body>

<h1>Demo Website</h1>

<p>
  Think is just a demo website for Azure testing.
  Please fill out the form.
</p>

<form>
  Full Name:<br>
  <input type="text" name="fullName" id="formName"><br><br>

  Age:<br>
  <input type="text" name="age" id="formAge"><br><br>

  Sex:<br>
  <select name="gender" id="formSex">
    <option value="Male">Male</option>
    <option value="Female">Female</option>
  </select><br><br>

  Income:<br>
  <input type="text" name="income" id="formIncome"><br><br>
  <input type="submit" value="Submit" onclick="processForm()">
</form>

<h1>Display Form</h1>
<p id="displayName">Name: </p>
<p id="displayAge">Age: </p>
<p id="displaySex">Sex: </p>
<p id="displayIncome">Income: </p>

<button type="button" onclick="processForm()">Try it</button>

</body>
</html>
